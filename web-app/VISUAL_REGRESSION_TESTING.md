# Visual Regression Testing

## Overview
This document describes how to run and maintain visual regression tests for the SmartLaw web application using Playwright.

## Setup
Visual regression tests are implemented using Playwright's built-in screenshot comparison functionality. The tests are located in `e2e/visual-regression.spec.ts`.

## Running Tests

### Run All Visual Regression Tests
```bash
npm run visual-test
```

### Run Specific Visual Test
```bash
npx playwright test visual-regression.spec.ts
```

### Run Tests in UI Mode
```bash
npx playwright test --ui
```

## Test Structure
The visual regression tests cover:
1. Homepage layout across different viewports
2. Chat interface components
3. Header components
4. Responsive design on mobile and tablet

## Updating Baseline Screenshots
When UI changes are intentional, you need to update the baseline screenshots:

```bash
npx playwright test --update-snapshots
```

## Configuration
The tests use the following configuration for screenshot comparison:
- Maximum difference pixels: 100
- Threshold: 0.2 (20% difference allowed)

## Best Practices
1. Run visual tests after any UI changes
2. Update baseline screenshots only when UI changes are intentional
3. Review test results in the HTML report generated by Playwright
4. Test across different viewports to ensure responsive design